<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>[[#{menu.combination}]]</title>
	<th:block th:insert="~{inc/asset.html :: templates_css}"></th:block>
	<style>
		
		/* 영양성분 선택 -------------------------------- */
		
		.ingredient_category{
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			margin-top : 55px;
		}
		
		.ingredient_category_radio_btn {
			display: inline-block;	
			margin-top: 20px;	
			margin-bottom: 20px;	
		}
		
		.ingredient_category_radio_btn label{
			width: 260px;
			height: 70px;
			display: flex;
			justify-content: center;
			align-items: center;
			border: 1px solid var(--bs-gray);
			border-radius: 10px;
			margin: 0 auto;
			font-size: 22px;
			color: var(--bs-gray-dark);
		}

		.ingredient_category_radio_btn input[type=radio] {
			display: none;
		}
		
		.ingredient_category_radio_btn input[type=radio]:checked + label {
			background: var(--bs-primary);
			color: var(--bs-white);
			border: none;
		}
		
		.ingredient_category_radio_btn label:hover {
			color: var(--bs-white);
			background: var(--bs-primary);
			border: none;
		}
		
		
		/* 선택된 영양성분 -------------------------------- */
		
		.section.select_select_ingredient_one{
			background-color: #F8F9FA;
		}
		
		.row{
			margin : 10px;
		}
		
		/* 선택된 영양성분 기능 -------------------------------- */
		.block-testimonial .author{
			display: flex;
			flex-direction: column;
		}
		
		.block-testimonial .author img{
			align-self: center;
			width: 150px;
			height: 150px;
		}
		.block-testimonial .author h3{
			font-size: 25px;
			margin-top : 30px;
			margin-left : 20px;
		}
		.block-testimonial .author p{
			font-size: 17px;
			margin-top : 20px;
			margin-left : 20px;
		}
		
		/* 선택된 영양제와 조합인 이유 -------------------------------- */
		.accordion-body{
			display: grid;
			grid-template-columns: 100px 410px 45px;
			background-color : white;
			border : 1px solid var(--bs-light);
		}
		
		.accordion-body a{
			margin-left: 10px;
			margin-right: 0px;
		}
		
	</style>
</head>

<body>
	<th:block th:insert="~{inc/header.html :: index_header_menu}"></th:block>
	<th:block th:insert="~{inc/header.html :: index_header_content_basic(#{menu.combination},#{menu.combination.desc})}"></th:block>
	<table>
		<tr th:each="dto : ${list}">
			<td th:text="${dto.seq}"></td>
			<td th:text="${dto.name}"></td>
		</tr>
	</table>
	
	<div id="combination-container">
		<div class="section">
			<div class="container">
				<div class="row mb-5">
					<div class="col-lg-5" data-aos="fade-up" data-aos-delay="">
						<h3 class="subheading">영양제 조합</h3>
						<h2 class="heading">영양제 성분 카테고리</h2>
					</div>
					<form method="POST" action="/combination/ajax">
						<div class="ingredient_category">
							<div th:each="seq : ${good}" class="ingredient_category_radio_btn">
								<input th:id="'ingredient_' + ${seq}" type="radio" name="select_ingredient" th:value="${seq}">
								<label th:for="'ingredient_' + ${seq}">
									<span th:switch="${seq}">
							            <span th:case="1">비타민A</span>
							            <span th:case="2">비타민B</span>
							            <span th:case="3">비타민C</span>
							            <span th:case="4">비타민D</span>
							            <span th:case="5">비타민B6</span>
							            <span th:case="6">비타민K</span>
							            <span th:case="7">비타민E</span>
							            <span th:case="8">비타민B3</span>
							            <span th:case="9">비타민B2</span>
							            <span th:case="10">비타민B12</span>
							            <span th:case="11">오메가3</span>
							            <span th:case="12">아연</span>
							            <span th:case="13">마그네슘</span>
							            <span th:case="14">엽산</span>
							            <span th:case="15">아르기닌</span>
							            <span th:case="16">철분</span>
							            <span th:case="17">루테인</span>
							            <span th:case="18">칼슘</span>
							            <span th:case="19">유산균</span>
							            <span th:case="20">홍삼</span>
							            <span th:case="21">밀크씨슬</span>
							            <span th:case="22">칼륨</span>
							            <span th:case="23">콜라겐</span>
							            <span th:case="24">단백질</span>
							            <span th:case="25">효소</span>
							        </span>
								</label>
							</div>
						</div>
					</form>							
				</div>
				<div class="section select_select_ingredient_one">
					<div class="container">
						<div class="row ">
							<div class="col-lg-5 mb-5 mb-lg-0 me-auto testimonial-wrap" data-aos="fade-up"
								data-aos-delay="0">
								<h3 class="subheading">선택된 영양제</h3>
								<h2 class="heading mb-5">칼슘</h2>

								<div class="wide-slider-testimonial-wrap">

									<div class="wide-slider-testimonial">
										<div class="item">
											<blockquote class="block-testimonial">
												<div class="author">
													<img src="/img/ingredient/칼슘.png">
													<h3>효능</h3>
													<p>기능 넣을 거임</p>
												</div>
											</blockquote>
										</div>
									</div>
								</div>
							</div>




							<div class="col-lg-6 mt-4 mt-lg-0" data-aos="fade-up" data-aos-delay="100">
								<h3 class="subheading">선택된 영양제와 관련된 성분 조합</h3>
								<h2 class="heading mb-5">칼슘과(와) 관련된 성분 조합은?</h2>

								<div class="custom-accordion" id="accordion_1">
									<div class="accordion-item">
										<h2 class="mb-0">
											<button class="btn btn-link" type="button" data-bs-toggle="collapse"
												data-bs-target="#collapseOne" aria-expanded="true"
												aria-controls="collapseOne">같이 먹으면 좋은 조합</button>
										</h2>

										<div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
											data-bs-parent="#accordion_1">
											<div class="accordion-body">
												<div class="good_combination_title">비타민 D</div>
												<div class="good_combination_content">비타민 D는 장에서 칼슘 흡수를 돕습니다.</div>
												<a class="good_combination_link" href="https://blog.naver.com/centum_surgery/221505150758">출처</a>
											</div>
											<div class="accordion-body">
												<div class="good_combination_title">비타민 K</div>
												<div class="good_combination_content">비타민 K는 골다공증 개선 효과가 있습니다.</div>
												<a class="good_combination_link" href="https://blog.naver.com/centum_surgery/221505150758">출처</a>
											</div>
											
										</div>
									</div>
									<!-- .accordion-item -->

									<div class="accordion-item">
										<h2 class="mb-0">
											<button class="btn btn-link collapsed" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseTwo"
												aria-expanded="false" aria-controls="collapseTwo">같이 먹으면 안 좋은
												조합</button>
										</h2>
										<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo"
											data-bs-parent="#accordion_1">
											<div class="accordion-body">
												<div class="good_combination_title">철분</div>
												<div class="good_combination_content">둘은 같은 통로로 흡수되어서 같이 먹으면 흡수율이 떨어질 수 있으므로 철분은 식사 전 섭취하는 것이 좋습니다.</div>
												<a class="good_combination_link" href="https://blog.naver.com/centum_surgery/221505150758">출처</a>
											</div>
											<div class="accordion-body">
												<div class="good_combination_title">마그네슘</div>
												<div class="good_combination_content">칼슘과 마그네슘은 모두 골다공증을 예방하는 데 도움이 되지만 동시에 먹으면 흡수율이 떨어진다.</div>
												<a class="good_combination_link" href="https://www.gqkorea.co.kr/2023/09/19/%ED%95%A8%EA%BB%98%ED%95%98%EB%A9%B4-%EB%8F%85%EC%9D%B4-%EB%90%98%EB%8A%94-%EC%98%81%EC%96%91%EC%A0%9C/">출처</a>
											</div>
										</div>
										<!-- .accordion-item -->



									</div>
								</div>
							</div>
						</div>
						<!-- .container -->
					</div>
					<!-- /.untree_co-section -->
				</div>


			</div>
			<th:block th:insert="~{inc/footer.html :: footer}"></th:block>
			<th:block th:insert="~{inc/asset.html :: templates_js}"></th:block>
</body>
<script>
	
	document.querySelectorAll('label').forEach(function(label) {
	    label.addEventListener('click', function() {
	        // 클릭된 label에 연결된 input 요소 가져오기
	        var input = document.querySelector('#' + label.getAttribute('for'));
	        
	        // 라디오 버튼의 seq 값 (input의 value)과 텍스트 값
	        var seq = input.value;
	        var text = label.textContent.trim(); // label 텍스트 값 (여기서 .trim()을 사용해 앞뒤 공백 제거)

	        // seq와 text 값을 alert로 출력
	        //alert('Seq: ' + seq + ', Text: ' + text);
			$.ajax({
	            url: '/combination/ajax',  // 서버에 요청할 URL
	            type: 'POST',
	            data: {
	                ingredientSeq: ingredientSeq,          // 선택된 seq 값
	                ingredient: ingredient        // 해당하는 텍스트
	            },
	            success: function(response) {
	                console.log('서버 응답:', response);
	                // 서버 응답 처리 (예: UI 업데이트 등)
	                alert('선택한 성분: ' + response.selectedText);  // 서버에서 처리된 값 출력
	            },
	            error: function(xhr, status, error) {
	                console.error('AJAX 요청 실패:', error);
	            }
	        });
	    });
	});
	
	
	
</script>
</html>